<!--
 * @file: 使用canvas制作一个心跳的画特效
-->
<!DOCTYPE html>
<html>
<head>
  <meta charset="utf8" />
  <style>
    body {
      margin: 0;
    }
  </style>
</head>

<body>
  <canvas id="heart" width="600" height="600">你的浏览器不支持canvas</canvas>
  <script>
   window.onload = function() {
        var canvas = document.getElementById("heart");
        var obj = canvas.getContext('2d');
     
        obj.arc(200, 200, 50, 0, 360);
        obj.fillStyle = 'red'
        obj.fill()
        var angle = 0;
        canvas.onclick = function(e) {
            var mx = e.layerX;
            var my = e.layerY;
     
            if(obj.isPointInPath(mx, my)) {
     
                setInterval(function() {
                    obj.clearRect(0, 0, 600, 600);
                    angle += 0.2;
                    obj.beginPath();
                    obj.arc(200, 200, 50 + 10 * Math.sin(angle), 0, 2 * Math.PI);
                    obj.fillStyle = 'red'
                    obj.fill()
                }, 50);
            };
        };
     
    };
  </script>
</body>

</html>